{"ast":null,"code":"import React,{useState}from\"react\";import styles from\"./Login.module.css\";import login from\"../../assets/login.png\";import{Button,Input,message}from\"antd\";import{Link,useNavigate}from\"react-router-dom\";import AuthServices from\"../../services/authServices\";import{getErrorMessage}from\"../../util/GetError\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleSubmit=async event=>{event.preventDefault();console.log(\"Login\");try{setLoading(true);let data={username,password};const response=await AuthServices.loginUser(data);console.log(response.data);localStorage.setItem(\"toDoAppUser\",JSON.stringify(response.data));message.success(\"Logged in Successfully\");setTimeout(()=>{navigate(\"/to-do-list\");},1000);setLoading(false);}catch(error){console.log(error);message.error(getErrorMessage(error));setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.login__card,children:[/*#__PURE__*/_jsx(\"img\",{src:login,alt:\"..\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.input__wrapper,children:/*#__PURE__*/_jsx(Input,{placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:styles.input__wrapper,children:/*#__PURE__*/_jsx(Input.Password,{placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.input__info,children:[\"New User? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Button,{loading:loading,type:\"primary\",size:\"large\",disabled:!username||!password,onClick:handleSubmit,children:\"Login\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","styles","login","Button","Input","message","Link","useNavigate","AuthServices","getErrorMessage","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","loading","setLoading","navigate","handleSubmit","event","preventDefault","console","log","data","response","loginUser","localStorage","setItem","JSON","stringify","success","setTimeout","error","children","className","login__card","src","alt","onSubmit","input__wrapper","placeholder","value","onChange","e","target","Password","input__info","to","type","size","disabled","onClick"],"sources":["/Users/jaswanthi/Desktop/ToDo App/client/src/pages/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport styles from \"./Login.module.css\";\nimport login from \"../../assets/login.png\";\nimport { Button, Input, message } from \"antd\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport AuthServices from \"../../services/authServices\";\nimport { getErrorMessage } from \"../../util/GetError\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"Login\");\n    try {\n      setLoading(true);\n      let data = {\n        username,\n        password,\n      };\n      const response = await AuthServices.loginUser(data);\n      console.log(response.data);\n      localStorage.setItem(\"toDoAppUser\", JSON.stringify(response.data));\n      message.success(\"Logged in Successfully\");\n      setTimeout(() => {\n        navigate(\"/to-do-list\");\n      }, 1000);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      message.error(getErrorMessage(error));\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className={styles.login__card}>\n        <img src={login} alt=\"..\" />\n        <h2>Login</h2>\n        <form onSubmit={handleSubmit}>\n          <div className={styles.input__wrapper}>\n            <Input\n              placeholder=\"Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </div>\n          <div className={styles.input__wrapper}>\n            <Input.Password\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </div>\n          <div className={styles.input__info}>\n            New User? <Link to=\"/register\">Register</Link>\n          </div>\n          <Button\n            loading={loading}\n            type=\"primary\"\n            size=\"large\"\n            disabled={!username || !password}\n            onClick={handleSubmit}\n          >\n            Login\n          </Button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}